---
title:  "Develop Galaxy Watch Apps using CircularUI"
search: true
categories: Wearables
last_modified_at: 2019-02-15
author: Jeongkyun Pu
toc: true
toc_label: Developing Galaxy Watch App using CircularUI
---

Tizen .NET has three types of application models:

- **Elmsharp**
- **NUI**
- **Xamarin.Forms**

Each type has a different web UI framework. For more information, see [Create an application]({{site.url}}{{site.baseurl}}/guides/create-wearableapp#creating-a-project).

This post describes how to create a Tizen Xamarin.Forms app for Galaxy Watch, and deploy and launch the app on a wearable emulator. It includes information about the **Tizen.Wearable.CircularUI**, the Xamarin.Forms extension for Tizen .NET wearable app, which was created for Galaxy Watch's small circular display. For more details, see [Tizen.Wearable.CircularUI git](https://github.com/Samsung/Tizen.CircularUI) and [Tizen.Wearable.CircularUI guide](https://samsung.github.io/Tizen.CircularUI/index.html).

Before you start developing Tizen applications, set up the [development environment]({{site.url}}{{site.baseurl}}/guides/environment).

## Create a Tizen wearable project

1. Launch Visual Studio.
1. From the Visual studio menu, select **File > New > Project> Tizen 4.0**.</br>
**Note**: If you select Tizen 5.0 for your application, it can be installed in Tizen devices with platform versions of Tizen 5.0 or above. For optimal compatibility, we use Tizen 4.0 in this post.
1. Select the **Tizen Wearable App** template or the **Tizen Wearable XAML App** template when the Tizen Project Wizard popup window appears. </br>
We used **Tizen Wearable XAML App**.

4. Define the project properties and click **OK**. Enter the project's **Name**, **Location**, and **Solution name**.</br>
![create_wearable_project][create_project]

1. Xamarin.Forms and Tizen.Wearable.CircularUI are added to the generated project.

![dependency][project_dependency]

## Enhance the application with CircularUI

This section describes the use of CircleListView, Check, and CirclePage while using CircularUI controls. For more information, see the [CircularUI guide](https://samsung.github.io/Tizen.CircularUI/guide/Overview.html).


### Add CircleListView in CirclePage

The following example shows XAML code in the `MainPage.xml` file, generated by the template. It has only one label in a `StackLayout`.

```xml
<?xml version="1.0" encoding="utf-8" ?>
<c:CirclePage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:c="clr-namespace:Tizen.Wearable.CircularUI.Forms;assembly=Tizen.Wearable.CircularUI.Forms"
             x:Class="TizenWearableXamlApp1.MainPage">
  <c:CirclePage.Content>
    <StackLayout>
      <Label Text="Welcome to Xamarin.Forms!"
          VerticalOptions="CenterAndExpand"
          HorizontalOptions="CenterAndExpand" />
    </StackLayout>
  </c:CirclePage.Content>
</c:CirclePage>
```

How to add [CircleListView](https://samsung.github.io/Tizen.CircularUI/guide/CircleListView.html) in [CirclePage](https://samsung.github.io/Tizen.CircularUI/guide/CirclePage.html)

1. Remove the `Label` and add the `CircleListView`. In this example, `ListView` `ItemSource` sets a list of strings. You can change `ListView ItemSource` using [Data Binding](https://docs.microsoft.com/en-us/xamarin/xamarin-forms/app-fundamentals/data-binding/).
  - This `CircleListView` has 10 items and a header.
  - Each item's cell is a TextCell.
  - The header layout is defined in `HeaderTemplate`.</br>
  Because `CircleListView` inherits `ListView` in Xamarin.Forms, almost all of the code is the same as in `ListView`, with one difference in `CirclePage`:
    - `RotaryFocusObject` was set as `CircleListView`'s name. If the `RotaryFocusObject` property is not set, the circular scroll bar on the right side of the display does not appear, and `CircleListView` cannot receive **[bezel-interaction](https://developer.samsung.com/galaxy-watch/design/interaction/bezel-interaction)**.

The following figure shows a screen capture with `RotaryFocusObject` set, and the next figure a screen capture without `RotaryFocusObject` set.</br>

**Note**: Some CircularUI controls (`CircleListView`, [CircleDateTimeSelector](https://samsung.github.io/Tizen.CircularUI/guide/CircleDateTimeSelector.html), [CircleScrollView](https://samsung.github.io/Tizen.CircularUI/guide/CircleScrollView.html), [CircleStepper](https://samsung.github.io/Tizen.CircularUI/guide/CircleStepper.html), [CircleSliderSurfaceItem](https://samsung.github.io/Tizen.CircularUI/guide/CirclePage.html#add-circleslidersurfaceitem-in-circlepage)) are set in `RotaryFocusObject` in `CirclePage`.

 |![figure1][listview_with_circle_object]|![figure2][listview_without_circle_object]|
 |:-------------------------------------:|:----------------------------------------:|
 |                 figure 1              |                  figure 2                |


```xml
<?xml version="1.0" encoding="utf-8" ?>
<c:CirclePage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:sys="clr-namespace:System;assembly=netstandard"
             xmlns:c="clr-namespace:Tizen.Wearable.CircularUI.Forms;assembly=Tizen.Wearable.CircularUI.Forms"
             x:Class="TizenWearableXamlApp1.MainPage"
             RotaryFocusObject="{x:Reference mylist}">
    <c:CirclePage.Content>
        <c:CircleListView x:Name="mylist"  ItemTapped="OnItemTapped">
            <c:CircleListView.ItemsSource>
                <x:Array x:Key="array" Type="{x:Type sys:String}">
                    <x:String>Item 1</x:String>
                    <x:String>Item 2</x:String>
                    <x:String>Item 3</x:String>
                    <x:String>Item 4</x:String>
                    <x:String>Item 5</x:String>
                    <x:String>Item 6</x:String>
                    <x:String>Item 7</x:String>
                    <x:String>Item 8</x:String>
                    <x:String>Item 9</x:String>
                    <x:String>Item 10</x:String>
                </x:Array>
            </c:CircleListView.ItemsSource>
            <c:CircleListView.Header>
                <x:String>Header</x:String>
            </c:CircleListView.Header>
            <c:CircleListView.ItemTemplate>
                <DataTemplate>
                    <TextCell Text="{Binding .}" />
                </DataTemplate>
            </c:CircleListView.ItemTemplate>
            <c:CircleListView.HeaderTemplate>
                <DataTemplate>
                    <Label
                        FontAttributes="Bold"
                        HorizontalTextAlignment="Center"
                        Text="{Binding .}"
                        TextColor="Red" />
                </DataTemplate>
            </c:CircleListView.HeaderTemplate>
        </c:CircleListView>
    </c:CirclePage.Content>
</c:CirclePage>
```

### Create a custom cell using ViewCell and Check

In the above example, `TextCell` is used to display text for each item, which is simplest way to display content in the `ListView` cell.

This example shows you how to create a [Custom cell](https://docs.microsoft.com/en-us/xamarin/xamarin-forms/user-interface/listview/customizing-cell-appearance#custom-cells) using [ViewCell](https://docs.microsoft.com/en-us/dotnet/api/xamarin.forms.viewcell?view=xamarin-forms) and [Check](https://samsung.github.io/Tizen.CircularUI/guide/Check.html).

- All custom cells must derive from `ViewCell`. Add `ViewCell` inside a `DataTemplate`, which is inside `ListView.ItemTemplate`.
- Inside `ViewCell`, layout can be managed by any Xamarin.Forms layout. Add `Horizontal` value to `Orientation` to display `Label` and `Check` horizontally.
- Add `Label` to display text binding `ItemSource`, and add `Check` control, which is a Tizen wearable-specific `CheckBox` widget. `Check` supports three DisplayStyle shapes (`Default`, `Onoff`, and `Small`). Each shape depends on the Tizen wearable device.

```xml
            <c:CircleListView.ItemTemplate>
                <DataTemplate>
                    <ViewCell>
                        <StackLayout HeightRequest="120" Orientation="Horizontal">
                            <Label
                                HorizontalOptions="CenterAndExpand"
                                Text="{Binding .}"
                                VerticalOptions="Center" />
                            <c:Check
                                DisplayStyle="Default"
                                HorizontalOptions="CenterAndExpand"
                                IsToggled="False" />
                        </StackLayout>
                    </ViewCell>
                </DataTemplate>
            </c:CircleListView.ItemTemplate>
```

The following screenshot shows this code deployed in a wearable-4.0-circle-x86 emulator. If you use a different emulator or a live target, `Check`'s shape will be different than shown.

![custom_cell][listview_with_custom_cell]

### Change CircleListView header style

In the previous example, the header's text size is smaller than the item's text, because `CircleListView` has a fisheye effect. The center item is bigger than the item above and below it. To cancel the fisheye effect and add larger text, add `CircleListView.CancelEffect` in the header's `Label` and set the `false` value (see the following example).

```xml
            <c:CircleListView.HeaderTemplate>
                <DataTemplate>
                    <Label
                        c:CircleListView.CancelEffect="True"
                        FontAttributes="Bold"
                        HorizontalTextAlignment="Center"
                        VerticalTextAlignment="Center"
                        Text="{Binding .}"
                        TextColor="Red" />
                </DataTemplate>
            </c:CircleListView.HeaderTemplate>
```

The following screenshot shows this code deployed in an emulator.

![header_no_fisheye][listview_with_header_no_fisheye]

### Add the bottom button in CirclePage

If you want to add a button such as **Done** or **Cancel** to the display:
1. Use [ActionButtonItem](https://samsung.github.io/Tizen.CircularUI/api/Tizen.Wearable.CircularUI.Forms.ActionButtonItem.html) of the [CirclePage](https://samsung.github.io/Tizen.CircularUI/guide/CirclePage.html). `ActionButtonItem` is placed at the bottom of the display and has a semicircular shape.
1. Use bind [Command](https://docs.microsoft.com/en-us/dotnet/api/xamarin.forms.command?view=xamarin-forms), which is invoked on activation after clicking the button.

```xml
            <c:CircleListView.HeaderTemplate>
                <DataTemplate>
                    <Label
                        c:CircleListView.CancelEffect="True"
                        FontAttributes="Bold"
                        HorizontalTextAlignment="Center"
                        VerticalTextAlignment="Center"
                        Text="{Binding .}"
                        TextColor="Red" />
                </DataTemplate>
            </c:CircleListView.HeaderTemplate>
        </c:CircleListView>
    </c:CirclePage.Content>
    <c:CirclePage.ActionButton>
        <c:ActionButtonItem  Text="Done"/>
    </c:CirclePage.ActionButton>
</c:CirclePage>
```
The following screenshot shows this code deployed in an emulator.

![bottom_button][listview_with_actionbutton]

## Build the application

In the Visual Studio menu, select **Build > Build Solution**. For more detailed information, see the [Build the Application]({{site.url}}{{site.baseurl}}/guides/create-wearableapp#build-the-application) guide.

## Deploy and run the application

To deploy and run the application on an emulator:

1. In the Visual Studio menu, select **Tools > Tizen > Tizen Emulator Manager**. Alternatively, click **Launch Tizen Emulator** in the Visual Studio toolbar to launch the Tizen Emulator Manager.
1. In Emulator Manager, select an emulator from the list and click **Launch**.
If no applicable emulator instance exists, [go to this link for information on how to create one](https://developer.tizen.org/development/visual-studio-tools-tizen/tools/emulator-manager#create).

    ![emulator_manager][emul_manager]

1. Once you launch an emulator instance, you can deploy the application by clicking the emulator instance in the Visual Studio toolbar.

    ![deploy_wearable_emul][deploy_wearable]

1. If the deployment is successful, the application launches on the emulator. The following figure shows the application on the wearable emulator.

    ![wearable_emul][wearable_emulator]

[create_project]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/new_project_for_tizen_wearable_app.png
[project_dependency]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/project_dependency.png
[launched_application]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/launched_application.png
[listview_without_circle_object]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/listview_without_circle_object.png
[listview_with_circle_object]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/listview_with_circle_object.png
[listview_with_custom_cell]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/listview_with_custom_cell.png
[listview_with_header_no_fisheye]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/listview_without_fisheye.png
[listview_with_actionbutton]: {{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/listview_with_actionbutton.png
[wearable_emulator]:{{site.url}}{{site.baseurl}}/assets/images/posts/developing-galaxy-watch-apps-using-circularui/wearable_emulator.png
[emul_manager]:{{site.url}}{{site.baseurl}}/assets/images/guides/emul_manager_wearable.png
[deploy_wearable]:{{site.url}}{{site.baseurl}}/assets/images/guides/deploy_wearable.png
